<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>spring project Scene, Share</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
          crossorigin="anonymous"></script>

  <link rel="stylesheet" href="/css/common.css">
  <script src="/js/common.js"></script>

  <script>
    $(document).ready(function () {
      $("#frm").on("submit", function (e) {
        let flagUserId = $("#user-id").val().trim();
        let flagUserPw = $("#user-pw").val().trim();
        let flagUserName = $("#user-name").val().trim();
        // let flagUserGender = $("#user-gender option:selected").val().trim();
        let flagUserGender = $("input[name='gender']:checked").val(); // 수정된 부분

        if (flagUserId == "") {
          alert("아이디를 입력해주세요");
          $("#user-id").focus();
          e.preventDefault();
          return;
        }

        if (flagUserId == "") {
          alert("중복되는 아이디입니다.");
          $("#user-id").focus();
          e.preventDefault();
          return;
        }

        if (flagUserPw == "") {
          alert("비밀번호를 입력해주세요")
          $("#user-pw").focus();
          e.preventDefault();
          return;
        }

        if (flagUserName == "") {
          alert("이름을 입력해주세요");
          $("#user-name").focus();
          e.preventDefault();
          return;
        }

        if (flagUserGender == "") {
          alert("성별을 선택해주세요");
          // $("#user-gender").focus();
          $("label[for='gender-male']").focus();
          e.preventDefault();
          return;
        }

        alert("회원가입이 완료되었습니다");
      });

      // 회원가입 취소버튼 추가
      $(".btn-join-cancel").on("click", function () {
        location.href = "/main";
      });

    });
  </script>

</head>
<body>
<div class="wrap">

  <main class="container join">
    <div class="join-con">
      <h1 class="logo"><em>Scene, </em>Share</h1>
      <h2>회원가입</h2>
      <p class="join-infor">회원 정보를 입력해 주세요.</p>

      <form action="/user/create" method="post" id="frm">
        <ul class="join-frm">
          <li>
            <!-- <label for="user-id">아이디</label> -->
            <input type="text" id="user-id" name="userId" placeholder="아이디">
          </li>
          <li>
            <!-- <label for="user-pw">패스워드</label> -->
            <input type="text" id="user-pw" name="userPw" placeholder="비밀번호">
          </li>
          <li>
            <!-- <label for="user-name">이름</label> -->
            <input type="text" id="user-name" name="userName" placeholder="이름">

          </li>
          <li>
            <!-- <label for="user-email">E-mail</label> -->
            <input type="text" id="user-email" name="userEmail"
                    placeholder="이메일">
          </li>
          <!-- <li>
              <label for="user-gender">성별</label>
              <select class="form-control me-3" id="user-gender" name="gender">
                  <option value="" selected>성별을 선택하세요</option>
                  <option value="Male">남성</option>
                  <option value="Female">여성</option>
              </select>
          </li> -->

          <!-- 성별 선택 라디오 버튼으로 수정 -->
          <li>
            <div class="radio-btn-group flex" role="group" aria-label="성별 선택">
              <input type="radio" class="btn-check" name="gender" id="gender-male" value="Male"
                     autocomplete="off" checked>
              <label class="btn male" for="gender-male">남성</label>

              <input type="radio" class="btn-check" name="gender" id="gender-female" value="Female"
                     autocomplete="off">
              <label class="btn female" for="gender-female">여성</label>
            </div>
          </li>
        </ul>

        <p class="essential">* E-mail을 제외한 모든 사항은 필수입니다.</p>

        <div class="join-btn-area">
          <button type="submit" class="btn-join">가입하기</button>
          <button type="button" class="btn-join-cancel">취소</button>
        </div>
      </form>
    </div>
  </main>


  <footer th:replace="~{/user/layout/footer :: footer}"></footer>

</div>
</body>
</html>